# アプリケーションポート（同一サーバーで複数アプリ共存時に変更）
APP_PORT=5000

# Google Gemini API キー（必須）
GEMINI_API_KEY=your_api_key_here

# Geminiモデル名（デフォルト: gemini-2.5-flash）
# gemini-2.5-flash: 高速・高品質（推奨）
# gemini-2.0-flash: 軽量・最速
# gemini-3-flash-preview: 最新・思考機能付き（プレビュー）
GEMINI_MODEL=gemini-2.5-flash

# Gemini 429（Google側レート制限）対策
# 429時の最大再試行回数（0で無効）
GEMINI_429_MAX_RETRIES=2
# Retry-Afterヘッダーが無い場合の指数バックオフ基準秒
GEMINI_429_BACKOFF_BASE_SECONDS=1.5

# プロキシURL（企業ネットワーク等で必要な場合のみ）
PROXY_URL=

# SSL検証（デフォルト: true。企業プロキシ環境でのみ false に設定）
VERIFY_SSL=true

# プロキシ無視モード（デフォルト: false。true にすると PROXY_URL を無視）
NO_PROXY_MODE=false

# リバースプロキシ信頼（デフォルト: false。nginx等の背後で動作する場合のみ true）
TRUST_PROXY=false

# Flaskデバッグモード（開発時のみ true、本番では必ず false）
FLASK_DEBUG=false

# 管理API認証シークレット（プロキシ設定変更用。未設定だとPOSTは常に403）
# 本番環境では32文字以上のランダム値を設定してください
# 生成例: python -c "import secrets; print(secrets.token_urlsafe(32))"
ADMIN_SECRET=

# Redis URL（マルチプロセス対応レート制限用。未設定=インメモリフォールバック）
REDIS_URL=

# CORS: 許可するOrigin（カンマ区切り。未設定=同一オリジンのみ）
ALLOWED_ORIGINS=

# レート制限（デフォルト: 20回/分、1000回/日）
RATE_LIMIT_PER_MINUTE=20
RATE_LIMIT_DAILY=1000

# レート制限キー方式（デフォルト: ip_ua）
# ip_ua: IP + User-Agent の複合キー（NAT配下での干渉を軽減）
# ip:    IPアドレスのみ（調査・デバッグ時にシンプルな方式が必要な場合）
RATE_LIMIT_KEY_MODE=ip_ua

# HTTPS設定（LAN内でカメラを利用する場合に必要。未設定=HTTP）
# start.sh を使うと自動で証明書が生成・設定されます
SSL_CERT_PATH=
SSL_KEY_PATH=
